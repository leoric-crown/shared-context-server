# ============================================================================
# PRE-COMMIT HOOKS - FAST & FOCUSED
# ============================================================================
# Essential hooks that keep diffs clean during fast iteration.
# Focus: code formatting, trailing whitespace, basic validation.
#
# Install: pre-commit install
# Run manually: pre-commit run --all-files

repos:
  # Fast Python linting and formatting (most important)
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.12.8
    hooks:
      - id: ruff-format
        name: Format (ruff)
        description: "Python code formatting - keeps diffs clean"
      - id: ruff
        name: Lint (ruff)
        args: [--fix]
        description: "Fast Python linting with automatic fixes"

  - repo: local
    hooks:
      - id: mypy
        name: Type check (mypy via uv)
        language: system
        pass_filenames: false
        entry: uv
        args: ["run", "mypy", "src"]

  # Essential file hygiene (fast, prevents diff noise)
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: end-of-file-fixer
        name: Fix EOF
        description: "Ensure files end with newline"

      - id: trailing-whitespace
        name: Fix whitespace
        description: "Remove trailing whitespace - prevents diff noise"

      - id: check-merge-conflict
        name: Check merge conflicts
        description: "Prevent accidental merge conflict commits"

# Configuration
default_stages: [pre-commit]
fail_fast: false
minimum_pre_commit_version: 3.0.0

# CI configuration
ci:
  autofix_commit_msg: "ðŸ¤– [pre-commit.ci] auto fixes"
  autofix_prs: true
  autoupdate_schedule: weekly
